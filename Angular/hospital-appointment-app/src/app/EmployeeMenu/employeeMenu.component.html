
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<div class="container">
    <div class="row">
        <div class="col-lg-3 col-sm-6">
            <div class="card-box bg-blue">
                <div class="inner">
                    <h3> Appointment</h3>
                    <p> CRUD Operations</p>
                </div>
                <div class="icon">
                    <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                </div>
                <a (click)="displayAppointment()" class="card-box-footer">Enter <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="card-box bg-green">
                <div class="inner">
                    <h3> Employee </h3>
                    <p> CRUD Operations </p>
                </div>
                <div class="icon">
                    <i class="fa fa-money" aria-hidden="true"></i>
                </div>
                <a (click)="displayEmployees()" class="card-box-footer">Enter<i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <div class="card-box bg-orange">
                <div class="inner">
                    <h3> Patient </h3>
                    <p> CRUD Operations </p>
                </div>
                <div class="icon">
                    <i class="fa fa-user-plus" aria-hidden="true"></i>
                </div>
                <a (click)="displayPatients()" class="card-box-footer">Enter <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div>
    </div>


    <!-- Appointments -->
    <div id="appointments" *ngIf="showAppointment">
        <button class="btn btn-primary waves-effect waves-light btn-lg m-b-5" (click)="onOpenModalAppointment('add', null!)">Create Appointment</button>
        <div class="container" id="appointment-Container">
            <div class="row">
                <div *ngFor="let appointment of appointments" class="col-md-6 col-xl-4">
                    <div class="card m-b-30">
                        <div class="card-body row">
                            <div class="col-6 cardImage">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 550 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M216.1 408.1C207.6 418.3 192.4 418.3 183 408.1L119 344.1C109.7 335.6 109.7 320.4 119 311C128.4 301.7 143.6 301.7 152.1 311L200 358.1L295 263C304.4 253.7 319.6 253.7 328.1 263C338.3 272.4 338.3 287.6 328.1 296.1L216.1 408.1zM128 0C141.3 0 152 10.75 152 24V64H296V24C296 10.75 306.7 0 320 0C333.3 0 344 10.75 344 24V64H384C419.3 64 448 92.65 448 128V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V128C0 92.65 28.65 64 64 64H104V24C104 10.75 114.7 0 128 0zM400 192H48V448C48 456.8 55.16 464 64 464H384C392.8 464 400 456.8 400 448V192z"/></svg>
                            </div>
                            <div class="col-6 card-title align-self-center mb-0">
                                <h5>{{appointment.appointmentDate}}</h5>
                            </div>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><i class="fa fa-user-md float-right"></i><h5>Employee :</h5><a></a>{{appointment.employee.employeeFirstName}} {{appointment.employee.employeeLastName}}</li>
                            <li class="list-group-item"><i class="fa fa-male float-right"></i><h5>Patient :</h5><a></a>{{appointment.patient.patientFirstName}} {{appointment.patient.patientLastName}}</li>
                            <li class="list-group-item"><i class="fa fa-hospital-o float-right"></i><h5>Hospital :</h5><a></a>{{appointment.hospital.hospitalName}}</li>
                            <li class="list-group-item"><i class="fa fa-medkit float-right"></i><h5>Prescription Ref :</h5><a></a>{{appointment.prescription.scriptRef}}</li>
                            <li class="list-group-item"><i class="fa fa-briefcase float-right"></i><h5>Procedure :</h5><a></a>{{appointment.procedure.procedureName}}</li>
                        </ul>
                        <div class="card-body">
                            <div class="float-right btn-group btn-group-sm">
                                <a (click)="onOpenModalAppointment('edit', appointment)" class="btn btn-primary tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Edit"><i class="fa fa-pencil"></i> </a>
                                <a (click)="onOpenModalAppointment('delete', appointment)" class="btn btn-secondary tooltips" data-placement="top" data-toggle="tooltip" data-original-title="Delete"><i class="fa fa-times"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Add Employee Modal -->
        <div class="modal" id="addAppointmentModal" tabindex="-1" role="dialog" aria-labelledby="addAppointmentModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addAppointmentModalLabel">Add Appointment</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #addAppointmentForm="ngForm" (ngSubmit)="onAddAppointment(addAppointmentForm)">
                <div class="form-group" hidden>
                    <label for="appointmentID">appointmentID</label>
                    <input type="text" [ngModel]="generatedId" name="appointmentID" class="form-control" id="appointmentID" required>
                </div>
                <div class="form-group">
                <label for="patient">Patient</label>
                <select ngModel name="patient" class="form-control" id="patient" required>
                    <option *ngFor="let patient of patients" [ngValue]="patient">
                            {{patient.patientFirstName}} {{patient.patientLastName}} : (ID) {{patient.patientID}}
                    </option>
                </select>
                </div>
                <div class="form-group">
                    <label for="hospital">Hospital</label>
                    <select ngModel name="hospital" class="form-control" id="hospital" required>
                        <option *ngFor="let hospital of hospitals" [ngValue]="hospital">
                                {{hospital.hospitalName}}
                        </option>
                    </select>
                    </div>
                <div class="form-group">
                <label for="employee">Employee</label>
                <select ngModel name="employee" class="form-control" id="employee" required>
                    <option *ngFor="let employee of employees" [ngValue]="employee">
                            {{employee.employeeFirstName}} {{employee.employeeLastName}} : (ID) {{employee.employeeId}}
                    </option>
                </select>
                </div>
                <div class="form-group">
                <label for="prescription">Prescription</label>
                <select ngModel name="prescription" class="form-control" id="prescription" required>
                    <option *ngFor="let prescription of prescriptions" [ngValue]="prescription">
                            Script Ref: {{prescription.scriptRef}}
                    </option>
                </select>
                </div>
                <div class="form-group">
                <label for="procedure">Procedure</label>
                <select ngModel name="procedure" class="form-control" id="procedure" required>
                    <option *ngFor="let procedure of procedures" [ngValue]="procedure">
                            {{procedure.procedureName}}
                    </option>
                </select>
                </div>
                <div class="form-group">
                <label for="appointmentDate">Appointment Date and Time</label>
                <input type="text" ngModel name="appointmentDate" class="form-control" id="appointmentDate" placeholder="Appointment Date and Time" required>
                 </div>
                <div class="modal-footer">
                <button type="button" id="add-appointment-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button  [disabled]="addAppointmentForm.invalid" type="submit" class="btn btn-primary">Save</button>
                </div>
                </form>
            </div>
        </div>
        </div>
        </div>
  
        <!-- Edit Modal -->
        <div class="modal" id="updateAppointmentModal" tabindex="-1" role="dialog" aria-labelledby="updateAppointmentModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updateAppointmentModalLabel">Edit Appointment</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form #editAppointmentForm="ngForm">
                        <div class="form-group" >
                            <label for="appointmentID">appointmentID</label>
                            <input type="text" [ngModel]="editAppointment?.appointmentID" name="appointmentID" class="form-control" id="appointmentID" required>
                        </div>
                        <div class="form-group">
                        <label for="patient">Patient</label>
                        <select [ngModel]="editAppointment?.patient?.patientID" name="patient" class="form-control" id="patient"  required>
                            <option *ngFor="let patient of patients" [ngValue]="patient.patientID" >
                                    {{patient.patientFirstName}} {{patient.patientLastName}} : (ID) {{patient.patientID}}
                            </option>
                        </select>
                        </div>
                        <div class="form-group">
                            <label for="hospital">Hospital</label>
                            <select [ngModel]="editAppointment?.hospital?.hospitalID" name="hospital" class="form-control" id="hospital" required>
                                <option *ngFor="let hospital of hospitals" [ngValue]="hospital.hospitalID">
                                        {{hospital.hospitalName}}
                                </option>
                            </select>
                            </div>
                        <div class="form-group">
                        <label for="employee">Employee</label>
                        <select [ngModel]="editAppointment?.employee?.employeeId" name="employee" class="form-control" id="employee" required>
                            <option *ngFor="let employee of employees" [ngValue]="employee.employeeId">
                                    {{employee.employeeFirstName}} {{employee.employeeLastName}} : (ID) {{employee.employeeId}}
                            </option>
                        </select>
                        </div>
                        <div class="form-group">
                        <label for="prescription">Prescription</label>
                        <select [ngModel]="editAppointment?.prescription?.scriptRef" name="prescription" class="form-control" id="prescription" required>
                            <option *ngFor="let prescription of prescriptions" [ngValue]="prescription.scriptRef">
                                    Script Ref: {{prescription.scriptRef}}
                            </option>
                        </select>
                        </div>
                        <div class="form-group">
                        <label for="procedure">Procedure</label>
                        <select [ngModel]="editAppointment?.procedure?.procedureID" name="procedure" class="form-control" id="procedure" required>
                            <option *ngFor="let procedure of procedures" [ngValue]="procedure.procedureID">
                                    {{procedure.procedureName}}
                            </option>
                        </select>
                        </div>
                        <div class="form-group">
                        <label for="appointmentDate">Appointment Date and Time</label>
                        <input type="text" [ngModel]="editAppointment?.appointmentDate" name="appointmentDate" class="form-control" id="appointmentDate" placeholder="Appointment Date and Time" required>
                         </div>
                        <div class="modal-footer">
                        <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
                        <button (click)="onEditAppointment(editAppointmentForm.value)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
                        </div>
                    </form>
                </div>
            </div>
            </div>
        </div>
  
        <!-- Delete Modal -->
        <div class="modal" id="deleteAppointmentModal" tabindex="-1" role="dialog" aria-labelledby="deleteAppointmentModelLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteAppointmentModelLabel">Delete Appointment</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this appointment?</p>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                        <button (click)="onDeleteAppointment(deleteAppointment?.appointmentID)" class="btn btn-danger" data-dismiss="modal">Yes</button>
                    </div>
                </div>
            </div>
            </div>
        </div>

    </div>
    
    
    
    
    
    <!-- Employees -->
    <div id="employees" *ngIf="showEmployees">
        <h3>employees</h3>
    </div>
    
    
    
    
    
    
    <!-- Patients -->
    <div id="patients" *ngIf="showPatients">
        <h3>patients</h3>
    </div>



</div>




